plugins {
    id 'org.springframework.boot' version '2.1.6.RELEASE' apply false
}

group = 'io.github.bbortt.qdrakeboo'

allprojects {
    version = '1.0.0-SNAPSHOT'

    repositories {
        mavenCentral()
    }
}

subprojects {
    def globalJavaConfiguration = {
        apply plugin: 'org.springframework.boot'
        apply plugin: 'io.spring.dependency-management'

        sourceCompatibility = '11'

        dependencies {
            implementation 'org.springframework.boot:spring-boot-starter'
            testImplementation 'org.springframework.boot:spring-boot-starter-test'
        }
    }

    pluginManager.withPlugin('java', globalJavaConfiguration)
    pluginManager.withPlugin('java', {
        dependencies {
            implementation 'org.springframework.boot:spring-boot-starter-actuator'
        }
    })
}
