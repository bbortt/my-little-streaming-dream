plugins {
    id 'java'
    id 'application'
}

group 'io.github.bbortt.qdrakeboo.core'

mainClassName = 'io.github.bbortt.qdrakeboo.core.graphql.account.Application'

configurations {
    compile.exclude module: 'spring-boot-starter-tomcat'
}

dependencies {
    annotationProcessor  'org.springframework.boot:spring-boot-configuration-processor'
    compile('javax.xml.bind:jaxb-api')
    compile('javax.activation:activation')
    compile('org.glassfish.jaxb:jaxb-runtime')
    implementation 'com.graphql-java:graphql-spring-boot-starter:5.0.2'
    implementation 'com.graphql-java:graphql-java-tools:5.2.4'
    implementation 'org.flywaydb:flyway-core'
    implementation 'org.postgresql:postgresql'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-data-redis'
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.springframework.boot:spring-boot-starter-undertow'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation project(':qdrakeboo-core:qdrakeboo-oauth2-client-autoconfiguration')
    integrationTestImplementation project(':qdrakeboo-test:qdrakeboo-graphql-test-utils')
    integrationTestImplementation project(':qdrakeboo-test:qdrakeboo-mock-authorization-server')
}

apply from: 'src/integration-test/integration-test.gradle'
